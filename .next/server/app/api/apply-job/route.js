(()=>{var e={};e.id=448,e.ids=[448],e.modules={3091:(e,t,i)=>{"use strict";var r,s="function"==typeof setImmediate;function n(e){o.length||(u(),a=!0),o[o.length]=e}e.exports=n;var o=[],a=!1,h=0;function l(){for(;h<o.length;){var e=h;if(h+=1,o[e].call(),h>1024){for(var t=0,i=o.length-h;t<i;t++)o[t]=o[t+h];o.length-=h,h=0}}o.length=0,h=0,a=!1}function u(){var e=process.domain;e&&(r||(r=i(21994)),r.active=process.domain=null),a&&s?setImmediate(l):process.nextTick(l),e&&(r.active=process.domain=e)}n.requestFlush=u},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBig=t.shrSL=t.shrSH=t.rotrSL=t.rotrSH=t.rotrBL=t.rotrBH=t.rotr32L=t.rotr32H=t.rotlSL=t.rotlSH=t.rotlBL=t.rotlBH=t.add5L=t.add5H=t.add4L=t.add4H=t.add3L=t.add3H=void 0,t.add=b,t.fromBig=s,t.split=n;let i=BigInt(0x100000000-1),r=BigInt(32);function s(e,t=!1){return t?{h:Number(e&i),l:Number(e>>r&i)}:{h:0|Number(e>>r&i),l:0|Number(e&i)}}function n(e,t=!1){let i=e.length,r=new Uint32Array(i),o=new Uint32Array(i);for(let n=0;n<i;n++){let{h:i,l:a}=s(e[n],t);[r[n],o[n]]=[i,a]}return[r,o]}let o=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);t.toBig=o;let a=(e,t,i)=>e>>>i;t.shrSH=a;let h=(e,t,i)=>e<<32-i|t>>>i;t.shrSL=h;let l=(e,t,i)=>e>>>i|t<<32-i;t.rotrSH=l;let u=(e,t,i)=>e<<32-i|t>>>i;t.rotrSL=u;let d=(e,t,i)=>e<<64-i|t>>>i-32;t.rotrBH=d;let c=(e,t,i)=>e>>>i-32|t<<64-i;t.rotrBL=c;let p=(e,t)=>t;t.rotr32H=p;let f=(e,t)=>e;t.rotr32L=f;let m=(e,t,i)=>e<<i|t>>>32-i;t.rotlSH=m;let g=(e,t,i)=>t<<i|e>>>32-i;t.rotlSL=g;let y=(e,t,i)=>t<<i-32|e>>>64-i;t.rotlBH=y;let _=(e,t,i)=>e<<i-32|t>>>64-i;function b(e,t,i,r){let s=(t>>>0)+(r>>>0);return{h:e+i+(s/0x100000000|0)|0,l:0|s}}t.rotlBL=_;let x=(e,t,i)=>(e>>>0)+(t>>>0)+(i>>>0);t.add3L=x;let w=(e,t,i,r)=>t+i+r+(e/0x100000000|0)|0;t.add3H=w;let E=(e,t,i,r)=>(e>>>0)+(t>>>0)+(i>>>0)+(r>>>0);t.add4L=E;let A=(e,t,i,r,s)=>t+i+r+s+(e/0x100000000|0)|0;t.add4H=A;let S=(e,t,i,r,s)=>(e>>>0)+(t>>>0)+(i>>>0)+(r>>>0)+(s>>>0);t.add5L=S;let k=(e,t,i,r,s,n)=>t+i+r+s+n+(e/0x100000000|0)|0;t.add5H=k,t.default={fromBig:s,split:n,toBig:o,shrSH:a,shrSL:h,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:c,rotr32H:p,rotr32L:f,rotlSH:m,rotlSL:g,rotlBH:y,rotlBL:_,add:b,add3L:x,add3H:w,add4L:E,add4H:A,add5H:k,add5L:S}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},15624:(e,t,i)=>{var r=i(93432);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function n(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)};return t.onceError=(e.name||"Function wrapped with `once`")+" shouldn't be called more than once",t.called=!1,t}e.exports=r(s),e.exports.strict=r(n),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})})},21820:e=>{"use strict";e.exports=require("os")},21994:e=>{"use strict";e.exports=require("domain")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32744:(e,t,i)=>{e.exports=i(93432)(function(e){var t=!0;return r(function(){t=!1}),function(){var i=arguments,s=this;t?r(function(){e.apply(s,i)}):e.apply(s,i)}});var r=i(53824)},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40888:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0;let r=i(77598);t.crypto=r&&"object"==typeof r&&"webcrypto"in r?r.webcrypto:r&&"object"==typeof r&&"randomBytes"in r?r:void 0},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},51928:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=s,t.anumber=n,t.abytes=o,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");n(e.outputLen),n(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},t.aoutput=function(e,t){o(e);let i=t.outputLen;if(e.length<i)throw Error("digestInto() expects output buffer of length at least "+i)},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=a,t.byteSwap32=h,t.bytesToHex=function(e){if(o(e),l)return e.toHex();let t="";for(let i=0;i<e.length;i++)t+=u[e[i]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(l)return Uint8Array.fromHex(e);let t=e.length,i=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(i);for(let t=0,s=0;t<i;t++,s+=2){let i=c(e.charCodeAt(s)),n=c(e.charCodeAt(s+1));if(void 0===i||void 0===n)throw Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);r[t]=16*i+n}return r},t.asyncLoop=p,t.utf8ToBytes=f,t.bytesToUtf8=function(e){return new TextDecoder().decode(e)},t.toBytes=m,t.kdfInputToBytes=function(e){return"string"==typeof e&&(e=f(e)),o(e),e},t.concatBytes=function(...e){let t=0;for(let i=0;i<e.length;i++){let r=e[i];o(r),t+=r.length}let i=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let s=e[t];i.set(s,r),r+=s.length}return i},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},t.createHasher=y,t.createOptHasher=_,t.createXOFer=b,t.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"==typeof r.crypto.randomBytes)return Uint8Array.from(r.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let r=i(40888);function s(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!s(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function a(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function h(e){for(let t=0;t<e.length;t++)e[t]=a(e[t]);return e}t.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],t.swap8IfBE=t.isLE?e=>e:e=>a(e),t.byteSwapIfBE=t.swap8IfBE,t.swap32IfBE=t.isLE?e=>e:h;let l="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),d={_0:48,_9:57,A:65,F:70,a:97,f:102};function c(e){return e>=d._0&&e<=d._9?e-d._0:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}async function p(e,i,r){let s=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-s;e>=0&&e<i||(await (0,t.nextTick)(),s+=e)}}function f(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function m(e){return"string"==typeof e&&(e=f(e)),o(e),e}t.nextTick=async()=>{};class g{}function y(e){let t=t=>e().update(m(t)).digest(),i=e();return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=()=>e(),t}function _(e){let t=(t,i)=>e(i).update(m(t)).digest(),i=e({});return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=t=>e(t),t}function b(e){let t=(t,i)=>e(i).update(m(t)).digest(),i=e({});return t.outputLen=i.outputLen,t.blockLen=i.blockLen,t.create=t=>e(t),t}t.Hash=g,t.wrapConstructor=y,t.wrapConstructorWithOpts=_,t.wrapXOFConstructorWithOpts=b},52175:(e,t,i)=>{let{createId:r,init:s,getConstants:n,isCuid:o}=i(66246);e.exports.Ts=s},53824:(e,t,i)=>{"use strict";var r=i(3091),s=[];function n(){this.task=null,this.domain=null}e.exports=function(e){var t;(t=s.length?s.pop():new n).task=e,t.domain=process.domain,r(t)},n.prototype.call=function(){this.domain&&this.domain.enter();var e=!0;try{this.task.call(),e=!1,this.domain&&this.domain.exit()}finally{e&&r.requestFlush(),this.task=null,this.domain=null,s.push(this)}}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66246:(e,t,i)=>{let{sha3_512:r}=i(85706),s=24,n=32,o=(e=4,t=Math.random)=>{let i="";for(;i.length<e;)i+=Math.floor(36*t()).toString(36);return i};function a(e){let t=0n;for(let i of e.values())t=(t<<8n)+BigInt(i);return t}let h=(e="")=>a(r(e)).toString(36).slice(1),l=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),u=e=>l[Math.floor(e()*l.length)],d=({globalObj:e="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},random:t=Math.random}={})=>{let i=Object.keys(e).toString();return h(i.length?i+o(n,t):o(n,t)).substring(0,n)},c=e=>()=>e++,p=0x1c6b1f1f,f=({random:e=Math.random,counter:t=c(Math.floor(e()*p)),length:i=s,fingerprint:r=d({random:e})}={})=>function(){let s=u(e),n=Date.now().toString(36),a=t().toString(36),l=o(i,e),d=`${n+l+a+r}`;return`${s+h(d).substring(1,i)}`},m=f();e.exports.getConstants=()=>({defaultLength:s,bigLength:n}),e.exports.init=f,e.exports.createId=m,e.exports.bufToBigInt=a,e.exports.createCounter=c,e.exports.createFingerprint=d,e.exports.isCuid=(e,{minLength:t=2,maxLength:i=n}={})=>{let r=e.length;return!!("string"==typeof e&&r>=t&&r<=i&&/^[0-9a-z]+$/.test(e))}},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},85706:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=b;let r=i(4147),s=i(51928),n=BigInt(0),o=BigInt(1),a=BigInt(2),h=BigInt(7),l=BigInt(256),u=BigInt(113),d=[],c=[],p=[];for(let e=0,t=o,i=1,r=0;e<24;e++){[i,r]=[r,(2*i+3*r)%5],d.push(2*(5*r+i)),c.push((e+1)*(e+2)/2%64);let s=n;for(let e=0;e<7;e++)(t=(t<<o^(t>>h)*u)%l)&a&&(s^=o<<(o<<BigInt(e))-o);p.push(s)}let f=(0,r.split)(p,!0),m=f[0],g=f[1],y=(e,t,i)=>i>32?(0,r.rotlBH)(e,t,i):(0,r.rotlSH)(e,t,i),_=(e,t,i)=>i>32?(0,r.rotlBL)(e,t,i):(0,r.rotlSL)(e,t,i);function b(e,t=24){let i=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let t=0;t<10;t++)i[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let r=(t+8)%10,s=(t+2)%10,n=i[s],o=i[s+1],a=y(n,o,1)^i[r],h=_(n,o,1)^i[r+1];for(let i=0;i<50;i+=10)e[t+i]^=a,e[t+i+1]^=h}let t=e[2],s=e[3];for(let i=0;i<24;i++){let r=c[i],n=y(t,s,r),o=_(t,s,r),a=d[i];t=e[a],s=e[a+1],e[a]=n,e[a+1]=o}for(let t=0;t<50;t+=10){for(let r=0;r<10;r++)i[r]=e[t+r];for(let r=0;r<10;r++)e[t+r]^=~i[(r+2)%10]&i[(r+4)%10]}e[0]^=m[r],e[1]^=g[r]}(0,s.clean)(i)}class x extends s.Hash{constructor(e,t,i,r=!1,n=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=r,this.rounds=n,(0,s.anumber)(i),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,s.swap32IfBE)(this.state32),b(this.state32,this.rounds),(0,s.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,s.aexists)(this),e=(0,s.toBytes)(e),(0,s.abytes)(e);let{blockLen:t,state:i}=this,r=e.length;for(let s=0;s<r;){let n=Math.min(t-this.pos,r-s);for(let t=0;t<n;t++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:i,blockLen:r}=this;e[i]^=t,(128&t)!=0&&i===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,s.aexists)(this,!1),(0,s.abytes)(e),this.finish();let t=this.state,{blockLen:i}=this;for(let r=0,s=e.length;r<s;){this.posOut>=i&&this.keccak();let n=Math.min(i-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+n),r),this.posOut+=n,r+=n}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,s.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,s.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,s.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:i,outputLen:r,rounds:s,enableXOF:n}=this;return e||(e=new x(t,i,r,n,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=r,e.enableXOF=n,e.destroyed=this.destroyed,e}}t.Keccak=x;let w=(e,t,i)=>(0,s.createHasher)(()=>new x(t,e,i));t.sha3_224=w(6,144,28),t.sha3_256=w(6,136,32),t.sha3_384=w(6,104,48),t.sha3_512=w(6,72,64),t.keccak_224=w(1,144,28),t.keccak_256=w(1,136,32),t.keccak_384=w(1,104,48),t.keccak_512=w(1,72,64);let E=(e,t,i)=>(0,s.createXOFer)((r={})=>new x(t,e,void 0===r.dkLen?i:r.dkLen,!0));t.shake128=E(31,168,16),t.shake256=E(31,136,32)},91645:e=>{"use strict";e.exports=require("net")},93432:e=>{e.exports=function e(t,i){if(t&&i)return e(t)(i);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var r=t.apply(this,e),s=e[e.length-1];return"function"==typeof r&&r!==s&&Object.keys(s).forEach(function(e){r[e]=s[e]}),r}}},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},99075:(e,t,i)=>{"use strict";i.r(t),i.d(t,{patchFetch:()=>er,routeModule:()=>Q,serverHooks:()=>ei,workAsyncStorage:()=>ee,workUnitAsyncStorage:()=>et});var r={};i.r(r),i.d(r,{POST:()=>G,config:()=>J});var s=i(96559),n=i(48088),o=i(37719),a=i(32190),h=i(49526);let l=require("node:fs");var u=i(77598);let d=require("node:events");class c extends d.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=u.createHash(this.hashAlgorithm):this.hash=null}open(){this._writeStream=l.createWriteStream(this.filepath),this._writeStream.on("error",e=>{this.emit("error",e)})}toJSON(){let e={size:this.size,filepath:this.filepath,newFilename:this.newFilename,mimetype:this.mimetype,mtime:this.lastModifiedDate,length:this.length,originalFilename:this.originalFilename};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`PersistentFile: ${this.newFilename}, Original: ${this.originalFilename}, Path: ${this.filepath}`}write(e,t){if(this.hash&&this.hash.update(e),this._writeStream.closed)return void t();this._writeStream.write(e,()=>{this.lastModifiedDate=new Date,this.size+=e.length,this.emit("progress",this.size),t()})}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end(()=>{this.emit("end"),e()})}destroy(){this._writeStream.destroy();let e=this.filepath;setTimeout(function(){l.unlink(e,()=>{})},1)}}class p extends d.EventEmitter{constructor({filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s,createFileWriteStream:n}){super(),this.lastModifiedDate=null,Object.assign(this,{filepath:e,newFilename:t,originalFilename:i,mimetype:r,hashAlgorithm:s,createFileWriteStream:n}),this.size=0,this._writeStream=null,"string"==typeof this.hashAlgorithm?this.hash=(0,u.createHash)(this.hashAlgorithm):this.hash=null}open(){this._writeStream=this.createFileWriteStream(this),this._writeStream.on("error",e=>{this.emit("error",e)})}destroy(){this._writeStream.destroy()}toJSON(){let e={size:this.size,newFilename:this.newFilename,length:this.length,originalFilename:this.originalFilename,mimetype:this.mimetype};return this.hash&&""!==this.hash&&(e.hash=this.hash),e}toString(){return`VolatileFile: ${this.originalFilename}`}write(e,t){if(this.hash&&this.hash.update(e),this._writeStream.closed||this._writeStream.destroyed)return void t();this._writeStream.write(e,()=>{this.size+=e.length,this.emit("progress",this.size),t()})}end(e){this.hash&&(this.hash=this.hash.digest("hex")),this._writeStream.end(()=>{this.emit("end"),e()})}}var f=i(52175),m=i(32744);let g=require("node:fs/promises"),y=require("node:os"),_=require("node:path"),b=require("node:string_decoder");var x=i(15624);let w=class extends Error{constructor(e,t,i=500){super(e),this.code=t,this.httpCode=i}},E=require("node:stream");class A extends E.Transform{constructor(e,t={}){super(),this.globalOptions={...t},this.incomingForm=e}_flush(e){this.incomingForm.ended=!0,this.incomingForm._maybeEnd(),e()}}let S=0,k={PARSER_UNINITIALIZED:S++,START:S++,START_BOUNDARY:S++,HEADER_FIELD_START:S++,HEADER_FIELD:S++,HEADER_VALUE_START:S++,HEADER_VALUE:S++,HEADER_VALUE_ALMOST_DONE:S++,HEADERS_ALMOST_DONE:S++,PART_DATA_START:S++,PART_DATA:S++,PART_END:S++,END:S++},F={PART_BOUNDARY:1,LAST_BOUNDARY:2},v={};Object.keys(k).forEach(e=>{v[e]=k[e]});class T extends E.Transform{constructor(e={}){super({readableObjectMode:!0}),this.boundary=null,this.boundaryChars=null,this.lookbehind=null,this.bufferLength=0,this.state=k.PARSER_UNINITIALIZED,this.globalOptions={...e},this.index=null,this.flags=0}_endUnexpected(){return new w(`MultipartParser.end(): stream ended unexpectedly: ${this.explain()}`,1012,400)}_flush(e){this.state===k.HEADER_FIELD_START&&0===this.index||this.state===k.PART_DATA&&this.index===this.boundary.length?(this._handleCallback("partEnd"),this._handleCallback("end"),e()):this.state!==k.END?e(this._endUnexpected()):e()}initWithBoundary(e){this.boundary=Buffer.from(`\r
--${e}`),this.lookbehind=Buffer.alloc(this.boundary.length+8),this.state=k.START,this.boundaryChars={};for(let e=0;e<this.boundary.length;e++)this.boundaryChars[this.boundary[e]]=!0}_handleCallback(e,t,i,r){(void 0===i||i!==r)&&this.push({name:e,buffer:t,start:i,end:r})}_transform(e,t,i){let r=0,s=this.index,{index:n,state:o,flags:a}=this,{lookbehind:h,boundary:l,boundaryChars:u}=this,d=l.length,c=d-1;this.bufferLength=e.length;let p=null,f=null,m=(e,t)=>{this[`${e}Mark`]="number"==typeof t?t:r},g=e=>{delete this[`${e}Mark`]},y=(t,i)=>{let s=`${t}Mark`;s in this&&(i?(this._handleCallback(t,e,this[s],r),g(t)):(this._handleCallback(t,e,this[s],e.length),m(t,0)))};for(r=0;r<this.bufferLength;r++)switch(p=e[r],o){case k.PARSER_UNINITIALIZED:i(this._endUnexpected());return;case k.START:n=0,o=k.START_BOUNDARY;case k.START_BOUNDARY:if(n===l.length-2){if(45===p)a|=F.LAST_BOUNDARY;else if(13!==p)return void i(this._endUnexpected());n++;break}if(n-1==l.length-2){if(a&F.LAST_BOUNDARY&&45===p)this._handleCallback("end"),o=k.END,a=0;else{if(a&F.LAST_BOUNDARY||10!==p)return void i(this._endUnexpected());n=0,this._handleCallback("partBegin"),o=k.HEADER_FIELD_START}break}p!==l[n+2]&&(n=-2),p===l[n+2]&&n++;break;case k.HEADER_FIELD_START:o=k.HEADER_FIELD,m("headerField"),n=0;case k.HEADER_FIELD:if(13===p){g("headerField"),o=k.HEADERS_ALMOST_DONE;break}if(n++,45===p)break;if(58===p){if(1===n)return void i(this._endUnexpected());y("headerField",!0),o=k.HEADER_VALUE_START;break}if((f=32|p)<97||f>122)return void i(this._endUnexpected());break;case k.HEADER_VALUE_START:if(32===p)break;m("headerValue"),o=k.HEADER_VALUE;case k.HEADER_VALUE:13===p&&(y("headerValue",!0),this._handleCallback("headerEnd"),o=k.HEADER_VALUE_ALMOST_DONE);break;case k.HEADER_VALUE_ALMOST_DONE:if(10!==p)return void i(this._endUnexpected());o=k.HEADER_FIELD_START;break;case k.HEADERS_ALMOST_DONE:if(10!==p)return void i(this._endUnexpected());this._handleCallback("headersEnd"),o=k.PART_DATA_START;break;case k.PART_DATA_START:o=k.PART_DATA,m("partData");case k.PART_DATA:if(s=n,0===n){for(r+=c;r<this.bufferLength&&!(e[r]in u);)r+=d;r-=c,p=e[r]}if(n<l.length)l[n]===p?(0===n&&y("partData",!0),n++):n=0;else if(n===l.length)n++,13===p?a|=F.PART_BOUNDARY:45===p?a|=F.LAST_BOUNDARY:n=0;else if(n-1===l.length)if(a&F.PART_BOUNDARY){if(n=0,10===p){a&=~F.PART_BOUNDARY,this._handleCallback("partEnd"),this._handleCallback("partBegin"),o=k.HEADER_FIELD_START;break}}else a&F.LAST_BOUNDARY&&45===p?(this._handleCallback("partEnd"),this._handleCallback("end"),o=k.END,a=0):n=0;n>0?h[n-1]=p:s>0&&(this._handleCallback("partData",h,0,s),s=0,m("partData"),r--);break;case k.END:break;default:i(this._endUnexpected());return}return y("headerField"),y("headerValue"),y("partData"),this.index=n,this.state=o,this.flags=a,i(),this.bufferLength}explain(){return`state = ${T.stateToString(this.state)}`}}T.stateToString=e=>{for(let t in k)if(k[t]===e)return t};let R=Object.assign(T,{STATES:v});class L extends E.PassThrough{constructor(e={}){super(),this.globalOptions={...e}}}async function O(e,t){let i=this||e;return/octet-stream/i.test(i.headers["content-type"])&&await D.call(i,i,t),i}async function D(e,t){this.type="octet-stream";let i=this.headers["x-file-name"],r=this.headers["content-type"],s=this._getNewName({originalFilename:i,mimetype:r}),n=this._joinDirectoryName(s),o=await this._newFile({newFilename:s,filepath:n,originalFilename:i,mimetype:r});this.emit("fileBegin",i,o),o.open(),this.openedFiles.push(o),this._flushing+=1,this._parser=new L(this.options);let a=0;return this._parser.on("data",e=>{this.pause(),a+=1,o.write(e,()=>{a-=1,this.resume(),this.ended&&this._parser.emit("doneWritingFile")})}),this._parser.on("end",()=>{this._flushing-=1,this.ended=!0;let e=()=>{o.end(()=>{this.emit("file","file",o),this._maybeEnd()})};0===a?e():this._parser.once("doneWritingFile",e)}),this}class B extends E.Transform{constructor(e={}){super({readableObjectMode:!0}),this.globalOptions={...e},this.buffer="",this.bufferLength=0}_transform(e,t,i){this.buffer+=e.toString("ascii"),this.bufferLength=this.buffer.length,i()}_flush(e){for(let[e,t]of new URLSearchParams(this.buffer))this.push({key:e,value:t});this.buffer="",e()}}function I(e,t){this.type="urlencoded";let i=new B(this.options);return i.on("data",({key:e,value:t})=>{this.emit("field",e,t)}),i.once("end",()=>{this.ended=!0,this._maybeEnd()}),this._parser=i,this}class U extends E.Transform{constructor(e={}){super({readableObjectMode:!0}),this.chunks=[],this.globalOptions={...e}}_transform(e,t,i){this.chunks.push(String(e)),i()}_flush(e){try{let e=JSON.parse(this.chunks.join(""));this.push(e)}catch(t){e(t);return}this.chunks=null,e()}}function H(e,t){this.type="json";let i=new U(this.options);i.on("data",e=>{this.fields=e}),i.once("end",()=>{this.ended=!0,this._maybeEnd()}),this._parser=i}let N=`production-${y.platform()}-${y.hostname()}`,P=(0,f.Ts)({length:25,fingerprint:N.toLowerCase()}),C={maxFields:1e3,maxFieldsSize:0x1400000,maxFiles:1/0,maxFileSize:0xc800000,maxTotalFileSize:void 0,minFileSize:1,allowEmptyFiles:!1,createDirsFromUploads:!1,keepExtensions:!1,encoding:"utf-8",hashAlgorithm:!1,uploadDir:y.tmpdir(),enabledPlugins:[O,function(e,t){let i=this||e;return/urlencoded/i.test(i.headers["content-type"])&&I.call(i,i,t),i},function(e,t){let i=this||e;if(/multipart/i.test(i.headers["content-type"])){let e=i.headers["content-type"].match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(e){var r;(r=e[1]||e[2],function(){let e,t,i;this.type="multipart";let s=new R(this.options);s.initWithBoundary(r),s.on("data",async({name:r,buffer:n,start:o,end:a})=>{if("partBegin"===r)(i=new E.Stream).readable=!0,i.headers={},i.name=null,i.originalFilename=null,i.mimetype=null,i.transferEncoding=this.options.encoding,i.transferBuffer="",e="",t="";else if("headerField"===r)e+=n.toString(this.options.encoding,o,a);else if("headerValue"===r)t+=n.toString(this.options.encoding,o,a);else if("headerEnd"===r){e=e.toLowerCase(),i.headers[e]=t;let r=t.match(/\bname=("([^"]*)"|([^\(\)<>@,;:\\"\/\[\]\?=\{\}\s\t/]+))/i);"content-disposition"===e?(r&&(i.name=r[2]||r[3]||""),i.originalFilename=this._getFileName(t)):"content-type"===e?i.mimetype=t:"content-transfer-encoding"===e&&(i.transferEncoding=t.toLowerCase()),e="",t=""}else if("headersEnd"===r){switch(i.transferEncoding){case"binary":case"7bit":case"8bit":case"utf-8":{let e=e=>{"partData"===e.name&&i.emit("data",e.buffer.slice(e.start,e.end))},t=r=>{"partEnd"===r.name&&(i.emit("end"),s.off("data",e),s.off("data",t))};s.on("data",e),s.on("data",t);break}case"base64":{let e=e=>{if("partData"===e.name){i.transferBuffer+=e.buffer.slice(e.start,e.end).toString("ascii");let t=4*parseInt(i.transferBuffer.length/4,10);i.emit("data",Buffer.from(i.transferBuffer.substring(0,t),"base64")),i.transferBuffer=i.transferBuffer.substring(t)}},t=r=>{"partEnd"===r.name&&(i.emit("data",Buffer.from(i.transferBuffer,"base64")),i.emit("end"),s.off("data",e),s.off("data",t))};s.on("data",e),s.on("data",t);break}default:return this._error(new w("unknown transfer-encoding",1014,501))}this._parser.pause(),await this.onPart(i),this._parser.resume()}else"end"===r&&(this.ended=!0,this._maybeEnd())}),this._parser=s}).call(i,i,t)}else{let e=new w("bad content-type header, no multipart boundary",1013,400);i._error(e)}}return i},function(e,t){let i=this||e;return/json/i.test(i.headers["content-type"])&&H.call(i,i,t),i}],fileWriteStreamHandler:null,defaultInvalidName:"invalid-name",filter:e=>!0,filename:void 0};function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}let z=function(e){let t=Promise.resolve();return async function(...i){let r,s,n=t;return t=new Promise(function(e){s=e}),await n,(r=e(...i)).then(s).catch(s),r}}(function(e){let t=_.dirname(e);return g.mkdir(t,{recursive:!0})}),M=e=>{let t=e.charCodeAt(0);return!(46===t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)};class $ extends d.EventEmitter{constructor(e={}){super(),this.options={...C,...e},this.options.maxTotalFileSize||(this.options.maxTotalFileSize=this.options.maxFileSize);let t=_.resolve(this.options.uploadDir||this.options.uploaddir||y.tmpdir());if(this.uploaddir=t,this.uploadDir=t,["error","headers","type","bytesExpected","bytesReceived","_parser","req"].forEach(e=>{this[e]=null}),this._setUpRename(),this._flushing=0,this._fieldsSize=0,this._totalFileSize=0,this._plugins=[],this.openedFiles=[],this.options.enabledPlugins=[].concat(this.options.enabledPlugins).filter(Boolean),0===this.options.enabledPlugins.length)throw new w("expect at least 1 enabled builtin plugin, see options.enabledPlugins",1e3);this.options.enabledPlugins.forEach(e=>{this.use(e)}),this._setUpMaxFields(),this._setUpMaxFiles(),this.ended=void 0,this.type=void 0}use(e){if("function"!=typeof e)throw new w(".use: expect `plugin` to be a function",1001);return this._plugins.push(e.bind(this)),this}pause(){try{this.req.pause()}catch(e){return this.ended||this._error(e),!1}return!0}resume(){try{this.req.resume()}catch(e){return this.ended||this._error(e),!1}return!0}async parse(e,t){let i;if(this.req=e,!t){let e,r;i=new Promise((t,i)=>{e=t,r=i}),t=(t,i,s)=>{t?r(t):e([i,s])}}let r=x(m(t));this.fields={};let s={};return(this.on("field",(e,t)=>{"multipart"===this.type||"urlencoded"===this.type?j(this.fields,e)?this.fields[e].push(t):this.fields[e]=[t]:this.fields[e]=t}),this.on("file",(e,t)=>{j(s,e)?s[e].push(t):s[e]=[t]}),this.on("error",e=>{r(e,this.fields,s)}),this.on("end",()=>{r(null,this.fields,s)}),await this.writeHeaders(e.headers),e.on("error",e=>{this._error(e)}).on("aborted",()=>{this.emit("aborted"),this._error(new w("Request aborted",1002))}).on("data",e=>{try{this.write(e)}catch(e){this._error(e)}}).on("end",()=>{!this.error&&this._parser&&this._parser.end()}),i)?i:this}async writeHeaders(e){if(this.headers=e,this._parseContentLength(),await this._parseContentType(),!this._parser)return void this._error(new w("no parser found",1003,415));this._parser.once("error",e=>{this._error(e)})}write(e){return this.error?null:this._parser?(this.bytesReceived+=e.length,this.emit("progress",this.bytesReceived,this.bytesExpected),this._parser.write(e),this.bytesReceived):(this._error(new w("uninitialized parser",1004)),null)}onPart(e){return this._handlePart(e)}async _handlePart(e){if(e.originalFilename&&"string"!=typeof e.originalFilename)return void this._error(new w("the part.originalFilename should be string when it exists",1005));if(!e.mimetype){let t="",i=new b.StringDecoder(e.transferEncoding||this.options.encoding);e.on("data",e=>{if(this._fieldsSize+=e.length,this._fieldsSize>this.options.maxFieldsSize)return void this._error(new w(`options.maxFieldsSize (${this.options.maxFieldsSize} bytes) exceeded, received ${this._fieldsSize} bytes of field data`,1006,413));t+=i.write(e)}),e.on("end",()=>{this.emit("field",e.name,t)});return}if(!this.options.filter(e))return;this._flushing+=1;let t=0,i=this._getNewName(e),r=this._joinDirectoryName(i),s=await this._newFile({newFilename:i,filepath:r,originalFilename:e.originalFilename,mimetype:e.mimetype});s.on("error",e=>{this._error(e)}),this.emit("fileBegin",e.name,s),s.open(),this.openedFiles.push(s),e.on("data",e=>{if(this._totalFileSize+=e.length,t+=e.length,this._totalFileSize>this.options.maxTotalFileSize)return void this._error(new w(`options.maxTotalFileSize (${this.options.maxTotalFileSize} bytes) exceeded, received ${this._totalFileSize} bytes of file data`,1009,413));0!==e.length&&(this.pause(),s.write(e,()=>{this.resume()}))}),e.on("end",()=>this.options.allowEmptyFiles||0!==t?t<this.options.minFileSize?void this._error(new w(`options.minFileSize (${this.options.minFileSize} bytes) inferior, received ${t} bytes of file data`,1008,400)):t>this.options.maxFileSize?void this._error(new w(`options.maxFileSize (${this.options.maxFileSize} bytes), received ${t} bytes of file data`,1016,413)):void s.end(()=>{this._flushing-=1,this.emit("file",e.name,s),this._maybeEnd()}):void this._error(new w("options.allowEmptyFiles is false, file size should be greater than 0",1010,400)))}async _parseContentType(){if(0===this.bytesExpected){this._parser=new A(this,this.options);return}if(!this.headers["content-type"])return void this._error(new w("bad content-type header, no content-type",1011,400));new A(this,this.options),await Promise.all(this._plugins.map(async(e,t)=>{let i=null;try{i=await e(this,this.options)||this}catch(i){let e=new w(`plugin on index ${t} failed with: ${i.message}`,1017,500);throw e.idx=t,e}Object.assign(this,i),this.emit("plugin",t,i)})),this.emit("pluginsResults",[])}_error(e,t="error"){this.error||this.ended||(this.req=null,this.error=e,this.emit(t,e),this.openedFiles.forEach(e=>{e.destroy()}))}_parseContentLength(){this.bytesReceived=0,this.headers["content-length"]?this.bytesExpected=parseInt(this.headers["content-length"],10):void 0===this.headers["transfer-encoding"]&&(this.bytesExpected=0),null!==this.bytesExpected&&this.emit("progress",this.bytesReceived,this.bytesExpected)}_newParser(){return new R(this.options)}async _newFile({filepath:e,originalFilename:t,mimetype:i,newFilename:r}){if(this.options.fileWriteStreamHandler)return new p({newFilename:r,filepath:e,originalFilename:t,mimetype:i,createFileWriteStream:this.options.fileWriteStreamHandler,hashAlgorithm:this.options.hashAlgorithm});if(this.options.createDirsFromUploads)try{await z(e)}catch(e){this._error(new w("cannot create directory",1018,409))}return new c({newFilename:r,filepath:e,originalFilename:t,mimetype:i,hashAlgorithm:this.options.hashAlgorithm})}_getFileName(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>{}[\]@,;:"?=\s/\t]+))($|;\s)/i);if(!t)return null;let i=t[2]||t[3]||"",r=i.substr(i.lastIndexOf("\\")+1);return(r=r.replace(/%22/g,'"')).replace(/&#([\d]{4});/g,(e,t)=>String.fromCharCode(t))}_getExtension(e){let t;if(!e)return"";let i=_.basename(e),r=i.indexOf("."),s=i.lastIndexOf("."),n=_.extname(i);r!==s&&(n=i.slice(r));let o=Array.from(n).findIndex(M);return"."===(t=-1===o?n:n.substring(0,o))?"":t}_joinDirectoryName(e){let t=_.join(this.uploadDir,e);return t.startsWith(this.uploadDir)?t:_.join(this.uploadDir,this.options.defaultInvalidName)}_setUpRename(){"function"==typeof this.options.filename?this._getNewName=e=>{let t="",i=this.options.defaultInvalidName;return e.originalFilename&&({ext:t,name:i}=_.parse(e.originalFilename),!0!==this.options.keepExtensions&&(t="")),this.options.filename.call(this,i,t,e,this)}:this._getNewName=e=>{let t=P();if(e&&this.options.keepExtensions){let i="string"==typeof e?e:e.originalFilename;return`${t}${this._getExtension(i)}`}return t}}_setUpMaxFields(){if(this.options.maxFields!==1/0){let e=0;this.on("field",()=>{(e+=1)>this.options.maxFields&&this._error(new w(`options.maxFields (${this.options.maxFields}) exceeded`,1007,413))})}}_setUpMaxFiles(){if(this.options.maxFiles!==1/0){let e=0;this.on("fileBegin",()=>{(e+=1)>this.options.maxFiles&&this._error(new w(`options.maxFiles (${this.options.maxFiles}) exceeded`,1015,413))})}}_maybeEnd(){!this.ended||this._flushing||this.error||(this.req=null,this.emit("end"))}}let{enabledPlugins:q}=C;var V=i(29021),W=i(33873),Y=i.n(W),X=i(27910);let Z=h.createTransport({host:"smtp.zoho.com",port:465,secure:!0,auth:{user:process.env.ZOHO_EMAIL_USER,pass:process.env.ZOHO_EMAIL_PASS},connectionTimeout:2e4,socketTimeout:3e4}),J={api:{bodyParser:!1}},K=e=>new Promise(async(t,i)=>{if(!e.body)return i(Error("Request body is empty."));let r=X.Readable.from(e.body),s=new $({maxFileSize:5242880,keepExtensions:!0});r.headers=Object.fromEntries(e.headers),r.method=e.method,s.parse(r,(e,r,s)=>{if(e)return console.error("Formidable Error:",e),i(Error("File upload failed or exceeded size limit."));t({fields:r,files:s})})});async function G(e){let t;if(!process.env.ZOHO_EMAIL_USER||!process.env.RECEIVING_EMAIL)return a.NextResponse.json({message:"Server configuration error: Email credentials or recipient missing."},{status:500});try{let{fields:i,files:r}=await K(e),s=i.fullName?.[0],n=i.email?.[0],o=i.phone?.[0],h=r.resume?.[0];if(!h||!s||!n)return a.NextResponse.json({message:"Missing required form fields or resume file."},{status:400});t=h.filepath;let l={filename:`${s.replace(/\s/g,"_")}_Resume${Y().extname(h.originalFilename||".pdf")}`,path:t};return await Z.sendMail({from:process.env.ZOHO_EMAIL_USER,replyTo:`${s} <${n}>`,to:process.env.RECEIVING_EMAIL,subject:`NEW JOB APPLICATION: ${s} (${n})`,text:`Applicant: ${s}
Email: ${n}
Phone: ${o}
Resume attached.`,html:`
        <div style="font-family: Arial, sans-serif;">
          <h2 style="color: #333;">New Job Application Received</h2>
          <p><strong>Name:</strong> ${s}</p>
          <p><strong>Email:</strong> ${n}</p>
          <p><strong>Phone:</strong> ${o}</p>
          <p style="margin-top: 15px;">Resume is attached to this email.</p>
        </div>
      `,attachments:[l]}),t&&await V.promises.unlink(t).catch(e=>console.error("Could not delete temp file:",e)),a.NextResponse.json({message:"Application successfully sent!"},{status:200})}catch(e){return t&&await V.promises.unlink(t).catch(e=>console.error("Could not delete temp file on error:",e)),console.error("Application submission error:",e),a.NextResponse.json({message:"Failed to submit application. Check server logs."},{status:500})}}let Q=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/apply-job/route",pathname:"/api/apply-job",filename:"route",bundlePath:"app/api/apply-job/route"},resolvedPagePath:"/Users/prakashkumar/Sourcecode/Primaryvision/src/app/api/apply-job/route.ts",nextConfigOutput:"export",userland:r}),{workAsyncStorage:ee,workUnitAsyncStorage:et,serverHooks:ei}=Q;function er(){return(0,o.patchFetch)({workAsyncStorage:ee,workUnitAsyncStorage:et})}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[447,580,526],()=>i(99075));module.exports=r})();